<table class="table metrics-listing dataTable display">
  <thead>
    <tr class="title">
      <th>{{ _('Task') }}</th>
      <th>{{ _('Owner') }}</th>
      <th title="{{ _('Number of unique users who completed the task') }}">
        {{ _('Users Completed') }}
      </th>
      <th title="{{ _('Number of unique users who explicitly abandoned the task') }}">
        {{ _('Users Abandoned') }}
      </th>
      <th title="{{ _('Number of unique users who took but never completed the task') }}">
        {{ _('Users Did Not Complete') }}
      </th>
      <th title="{{ _('Number of times the task was completed and the the same user takes another task') }}">
        {{ _('Moves on to Another') }}
      </th>
      <th title="{{ _('Number of times the task was taken and then the same user takes no further tasks') }}">
        {{ _('Takes No Further Tasks') }}
      </th>
    </tr>
    <tr>
      <th colspan="2" class="title">Average Counts</th>
      <th>{{ averages['avg_completed_users']|round(2) }}</th>
      <th>{{ averages['avg_abandoned_users']|round(2) }}</th>
      <th>{{ averages['avg_incomplete_users']|round(2) }}</th>
      <th>{{ averages['avg_user_completes_then_takes_another_count']|round(2) }}</th>
      <th>{{ averages['avg_user_takes_then_quits_count']|round(2) }}</th>
    </tr>
    <tr>
      <th colspan="2" class="title">Median Counts</th>
      <th>{{ medians['completed_users'] }}</th>
      <th>{{ medians['abandoned_users'] }}</th>
      <th>{{ medians['incomplete_users'] }}</th>
      <th>{{ medians['user_completes_then_takes_another_count'] }}</th>
      <th>{{ medians['user_takes_then_quits_count'] }}</th>
    </tr>
  </thead>
  <tbody>

    {% for task in metrics %}
      <tr class="activity-item">
        <td class="task-name title"><a href="{{ task.task.get_absolute_url() }}">{{ task.task.name }}</a></td>
        <td class="title">{{ task.task.owner }}</td>
        <td>{{ task.completed_users }}</td>
        <td>{{ task.abandoned_users }}</td>
        <td>{{ task.incomplete_users }}</td>
        <td>{{ task.user_completes_then_takes_another_count }}</td>
        <td>{{ task.user_takes_then_quits_count }}</td>
      </tr>
    {% endfor %}
  </tbody>
</table>
